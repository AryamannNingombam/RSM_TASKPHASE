(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{104:function(e,n,t){},105:function(e,n,t){},106:function(e,n,t){},116:function(e,n,t){},233:function(e,n,t){},235:function(e,n,t){},238:function(e,n,t){"use strict";t.r(n);var a=t(0),i=t(43),r=t.n(i),c=(t(104),t(105),t(17)),s=t(7),o=(t(106),t(1)),u=function(){return Object(o.jsx)("div",{id:"landing-page-main-background",children:Object(o.jsxs)("div",{id:"landing-page-buttons-area",children:[Object(o.jsx)(c.b,{to:"/log-in",children:Object(o.jsx)("button",{id:"landing-page-login-button",className:"landing-page-main-buttons",children:"Login"})}),Object(o.jsx)(c.b,{to:"sign-up",children:Object(o.jsx)("button",{id:"landing-page-signup-button",className:"landing-page-main-buttons",children:"Sign Up"})})]})})},l=t(10),d=t.n(l),p=t(22),g=t(16),j=(t(116),t(24));function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Promise((function(n){return setTimeout((function(){return n({data:e})}),500)}))}var b,m=Object(j.b)("counter/fetchCount",function(){var e=Object(p.a)(d.a.mark((function e(n){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(n);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),f=Object(j.c)({name:"counter",initialState:{value:0,status:"idle"},reducers:{increment:function(e){e.value+=1},decrement:function(e){e.value-=1},incrementByAmount:function(e,n){e.value+=n.payload}},extraReducers:function(e){e.addCase(m.pending,(function(e){e.status="loading"})).addCase(m.fulfilled,(function(e,n){e.status="idle",e.value+=n.payload}))}}),O=f.actions,x=(O.increment,O.decrement,O.incrementByAmount,f.reducer),v=t(19),w=t(60),y=t.n(w),k="https://rsm-first-task.herokuapp.com",S=function(e){return y.a.post("".concat(k,"/auth/sign-in/"),e,{headers:{"content-type":"application/json"}})},N=function(e){return y.a.post("".concat(k,"/auth/sign-up/"),e,{headers:{"content-type":"application/json"}})},C={loggedIn:!1,userData:null,token:null},I=Object(j.b)("auth/sign-in",function(){var e=Object(p.a)(d.a.mark((function e(n){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(n);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),q=Object(j.b)("auth/sign-up",function(){var e=Object(p.a)(d.a.mark((function e(n){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(n);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),D=Object(j.c)({name:"Auth",initialState:C,reducers:{logout:function(e,n){e.loggedIn=!1,e.userData=null,e.token=null}},extraReducers:(b={},Object(v.a)(b,q.fulfilled,(function(e,n){var t=n.payload;console.log(t),t.success?(e.loggedIn=!0,e.userData=t.userData,e.token=t.token,console.log("Successfully signed up!")):e=C})),Object(v.a)(b,q.rejected,(function(e,n){console.log(n.payload),console.log("Sign up rejected!")})),Object(v.a)(b,I.fulfilled,(function(e,n){var t=n.payload;console.log(t),t.success?(console.log("Successful sign in!"),e.loggedIn=!0,e.userData=t.userData,e.token=t.token):console.log("Wrong credentials!")})),Object(v.a)(b,I.rejected,(function(e,n){console.log(n.payload),console.log("Sign in rejected!")})),b)}),B=(D.actions.logout,D.reducer),T=Object(j.a)({reducer:{counter:x,auth:B}}),G=function(){var e=Object(s.g)(),n=Object(a.useState)(""),t=Object(g.a)(n,2),i=t[0],r=t[1],u=Object(a.useState)(""),l=Object(g.a)(u,2),j=l[0],h=l[1],b=function(){var n=Object(p.a)(d.a.mark((function n(t){var a;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.preventDefault(),n.next=3,T.dispatch(I({email:i,password:j}));case 3:a=n.sent,console.log(a),a.payload.success?e.push("/home"):alert("Wrong Credentials!");case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(o.jsx)("div",{id:"login-page-main-background",children:Object(o.jsxs)("form",{id:"login-page-main-area",children:[Object(o.jsxs)("span",{id:"login-page-heading-area",children:[Object(o.jsx)("span",{className:"login-page-main-heading",id:"LOG",children:"Log "}),Object(o.jsx)("span",{className:"login-page-main-heading",id:"IN",children:" In"})]}),Object(o.jsx)("input",{onChange:function(e){r(e.target.value)},placeholder:"john@mail.com",id:"login-input-email",required:!0,type:"email",className:"login-page-input"}),Object(o.jsx)("input",{required:!0,type:"password",onChange:function(e){h(e.target.value)},placeholder:"**********",id:"login-input-password",className:"login-page-input"}),Object(o.jsx)("button",{onClick:b,id:"submit-button",children:"Submit"}),Object(o.jsx)(c.b,{style:{color:"white"},to:"/sign-up",children:"Don't have an account? Sign Up!"})]})})},W=t(240),A=t(241),L=t(99),U=t(32),F=(t(233),U.a().shape({email:U.c().email("Invalid email format").required("This is a required field").strict(),password:U.c().min(8,"The password should be of minimum 8 characters!").required("This field is required!"),password2:U.c().oneOf([U.b("password"),null],"Passwords must match")})),J={email:"",password:"",password2:""},P=function(){var e=Object(a.useState)(""),n=Object(g.a)(e,2),t=(n[0],n[1],Object(a.useState)("")),i=Object(g.a)(t,2),r=(i[0],i[1],Object(s.g)());return Object(o.jsx)("div",{id:"signup-page-main-background",children:Object(o.jsx)(L.a,{initialValues:J,validationSchema:F,onSubmit:function(){var e=Object(p.a)(d.a.mark((function e(n){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.dispatch(q(n));case 2:t=e.sent,console.log(t),t.payload.success?r.push("/home"):alert("Error signing up!");case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),children:function(e){var n,t=e.handleChange,a=e.handleBlur,i=e.handleSubmit,r=(e.values,e.touched,e.errors);return Object(o.jsxs)(W.a,{id:"signup-page-main-area",children:[Object(o.jsxs)("span",{id:"signup-page-heading-area",children:[Object(o.jsx)("span",{className:"signup-page-main-heading",id:"SIGN",children:"Sign "}),Object(o.jsx)("span",{className:"signup-page-main-heading",id:"UP",children:" Up"})]}),Object(o.jsxs)(W.a.Group,{className:"signup-page-form-group",children:[Object(o.jsx)(W.a.Control,(n={placeholder:"john@mail.com",id:"login-input-email",required:!0,type:"email",name:"message",onChange:t,onBlur:a,isInvalid:r.email},Object(v.a)(n,"name","email"),Object(v.a)(n,"className","signup-page-input"),n)),Object(o.jsx)(W.a.Control.Feedback,{type:"invalid",className:"ml-3",children:r.email})]}),Object(o.jsxs)(W.a.Group,{className:"signup-page-form-group",children:[Object(o.jsx)(W.a.Control,{required:!0,type:"password",name:"password",onChange:t,onBlur:a,isInvalid:r.password,placeholder:"**********",id:"login-input-password",className:"signup-page-input"}),Object(o.jsx)(W.a.Control.Feedback,{type:"invalid",className:"ml-3",children:r.password})]}),Object(o.jsxs)(W.a.Group,{className:"signup-page-form-group",children:[Object(o.jsx)(W.a.Control,{required:!0,type:"password",name:"password2",onChange:t,onBlur:a,isInvalid:r.password2,placeholder:"**********",id:"login-input-password2",className:"signup-page-input"}),Object(o.jsx)(W.a.Control.Feedback,{type:"invalid",className:"ml-3",children:r.password2})]}),Object(o.jsx)(A.a,{onClick:function(e){e.preventDefault(),i()},type:"submit",id:"submit-button",children:"Submit"}),Object(o.jsx)(c.b,{style:{color:"white"},to:"/log-in",children:"Already have an account? Sign In!"})]})}})})},E=(t(235),t(31)),R=function(){var e=Object(E.b)((function(e){return e.auth})),n=Object(s.g)();return e.loggedIn||(alert("You need to be logged in to access this page!"),n.push("/")),Object(o.jsx)("div",{id:"homepage-main-div",children:Object(o.jsxs)("div",{id:"homepage-main-content",children:[Object(o.jsx)("h1",{children:"Hello"}),Object(o.jsx)("h5",{children:"Your JWT Token "}),Object(o.jsx)("p",{id:"token-paragraph",children:e.token})]})})};t(237);var Y=function(){return Object(E.b)((function(e){return e.auth.isLoggedIn})),Object(o.jsx)(c.a,{children:Object(o.jsxs)(s.d,{children:[Object(o.jsx)(s.b,{exact:!0,path:"/",component:u}),Object(o.jsx)(s.b,{exact:!0,path:"/log-in",component:G}),Object(o.jsx)(s.b,{exact:!0,path:"/sign-up",component:P}),Object(o.jsx)(s.b,{exact:!0,path:"/home",component:R}),Object(o.jsx)(s.a,{to:"/"})]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(Object(o.jsx)(E.a,{store:T,children:Object(o.jsx)(Y,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[238,1,2]]]);
//# sourceMappingURL=main.ccbecb5d.chunk.js.map